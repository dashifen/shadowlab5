var TableSort=Class.extend({init:function(a,b,c){this.direction=c?c:"asc",this.column=b?b:0,this.table=$(a),this.columns=this.table.find("th[scope=col]"),this.columns.each(function(a,b){b=$(b),b.is(".no-sort")||(a==this.column&&b.addClass(this.direction),b.html("<em>"+b.text()+"</em>"),b.click(this.on_column_click.bind(this)))}.bind(this))},on_column_click:function(a){var b="TH"!=a.target.tagName?$(a.target).parent("th"):$(a.target),c=b.index(),d=b.hasClass("asc")?"desc":"asc",e=b.hasClass("asc"==d?"desc":"asc");b.removeClass("asc"==d?"desc":"asc").addClass(d),b.siblings().removeClass("asc").removeClass("desc");var f=this.table.find("tbody"),g=f.find("tr").toArray();if(g.length>1){var h=e?g.reverse():g.sort(function(a,b){var e=$(a).find("*:eq("+c+")"),f=$(b).find("*:eq("+c+")");return e=e.is("[data-sort]")?e.attr("data-sort"):e.text(),f=f.is("[data-sort]")?f.attr("data-sort"):f.text(),e<=f?"asc"==d?-1:1:"asc"==d?1:-1});f.html("");for(var c=0;c<h.length;c++)f.append(h[c]);this.after&&"function"==typeof this.after&&this.after()}}});$(document).ready(function(){$("head").append('<link href="/includes/styles/min/other/table-sort.min.css" rel="stylesheet" media="screen">'),$("table[data-sortable]").each(function(){var a=$(this),b=a.is("[data-column]")?a.data("column"):0,c=a.is("[data-dir]")?a.data("dir"):"asc";new TableSort(a,b,c)})});