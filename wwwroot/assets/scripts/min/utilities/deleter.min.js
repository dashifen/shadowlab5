var Deleter=Class.extend({init:function(a){a=a?$(a):$(".deleter"),a.click($.proxy(this.is_confirmed,this))},is_confirmed:function(a){var b=$(a.target);if(b.hasClass("deleter"))return b.data("confirmed")?this.do_delete(b):this.do_confirm(b),!1},do_confirm:function(a){var b=$.Event("deleter:confirmation");a.trigger(b),b.isDefaultPrevented()?this.do_delete(a,b.results):(a.toggleClass("fa-times fa-question-circle"),a.attr("data-confirmed",1))},do_delete:function(a,b){var c=a.attr("data-id"),d=a.attr("data-action"),e={id:c,ajax:!0};b&&(e.result=b);var f=$.Event("deleter:before");if(f.data=e,a.trigger(f),!f.isDefaultPrevented()){if(!d)throw"Unable to perform an ajax delete without action";$.post(d,e).done(function(b){if(b.success){var c=$.Event("deleter:after");if(c.data=e,a.trigger(c),!c.isDefaultPrevented()){var d=a.closest("tr");d.data("removable")&&d.remove()}}else"function"==typeof sweetAlert?sweetAlert({text:b.message,title:"Unable to Delete",animation:!1,html:!0}):alert(b.message)})}}});$(document).ready(function(){"function"!=typeof sweetAlert&&($("head").append('<link href="/includes/styles/min/third-party/sweetalert.min.css" rel="stylesheet" media="screen">'),$("body").append('<script src="/includes/scripts/min/third-party/sweetalert.min.js">'));new Deleter});