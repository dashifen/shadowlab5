<div v-if="searchbar" v-html="searchbar"></div>

<table id="collection" class="searchable summarized">
<caption v-if="caption" v-html="caption"></caption>
<thead>
	<tr>
		<th v-for="th in table.headers" :class="th.classes" :id="th.id" scope="col">
			<abbr v-if="th.abbreviation" :title="th.display | capitalize" v-text="th.abbreviation"></abbr>
			<span v-else>{{ th.display | capitalize }}</span>
		</th>
	</tr>
</thead>
<tbody v-for="body in table.bodies"
	:data-id="body.recordId"
	:data-book="body.bookId"
	class="searchable-row"
>
	<tr class="data summary">
		<td v-for="(cell, index) in body.data"
			:headers="cell.column"
			:class="table.headers[index].classes"
			:data-searchbar-value="cell.searchbarValue"
			:data-searchbar-value-list="cell.searchbarValueList"
			v-html="cell.html"
		></td>
	</tr>
	<tr v-if="body.description.description || capabilities.fixer" class="description">
		<td :colspan="body.data.length - 1">
			<section>
				<div>
					<p>{{ body.description.description | nl2br }}</p>
					
					<footer v-if="body.description.reference">
						p. {{ body.description.reference.page }},
						   {{ body.description.reference.abbr }}
					</footer>
				</div>
			</section>
		</td>
		<td class="text-center">
			<a v-if="capabilities.fixer" class="controls" :href="body.recordId | makeUpdateLink">
				<i class="fa fa-fw fa-pencil" aria-hidden="true" title="Update Record"></i>
			</a>
		</td>
	</tr>
</tbody>
</table>
		
		
